/**
 * Print View Component
 *
 * Optimized layout for printing results
 */

import React from 'react';
import { EligibilityResults } from './types';
import { ProgramCard } from './ProgramCard';

interface PrintViewProps {
  results: EligibilityResults;
  userInfo?: {
    name?: string;
    evaluationDate?: Date;
  };
}

export const PrintView: React.FC<PrintViewProps> = ({ results, userInfo }) => {
  return (
    <div className="print-view">
      {/* Print Header */}
      <div className="print-header hidden print:block mb-6">
        <h1 className="text-2xl font-bold mb-2">Benefit Eligibility Results</h1>
        {userInfo?.name && (
          <p className="text-sm text-gray-600">Prepared for: {userInfo.name}</p>
        )}
        <p className="text-sm text-gray-600">
          Date: {(userInfo?.evaluationDate ?? results.evaluatedAt).toLocaleDateString()}
        </p>
      </div>

      {/* Summary Statistics */}
      <div className="mb-6 p-4 border border-gray-300 rounded-lg print:break-inside-avoid">
        <h2 className="text-xl font-bold mb-3">Summary</h2>
        <div className="grid grid-cols-2 gap-4">
          <div>
            <p className="text-sm text-gray-600">Total Programs Evaluated</p>
            <p className="text-2xl font-bold">{results.totalPrograms}</p>
          </div>
          <div>
            <p className="text-sm text-gray-600">Qualified Programs</p>
            <p className="text-2xl font-bold text-green-600">{results.qualified.length}</p>
          </div>
          <div>
            <p className="text-sm text-gray-600">Likely Qualified</p>
            <p className="text-2xl font-bold text-blue-600">{results.likely.length}</p>
          </div>
          <div>
            <p className="text-sm text-gray-600">May Qualify</p>
            <p className="text-2xl font-bold text-yellow-600">{results.maybe.length}</p>
          </div>
        </div>
      </div>

      {/* Qualified Programs */}
      {results.qualified.length > 0 && (
        <div className="mb-6">
          <h2 className="text-xl font-bold mb-4 text-green-700 border-b-2 border-green-700 pb-2">
            ✅ Programs You Qualify For ({results.qualified.length})
          </h2>
          <div className="space-y-4">
            {results.qualified.map((program) => (
              <ProgramCard key={program.programId} result={program} />
            ))}
          </div>
        </div>
      )}

      {/* Likely Programs */}
      {results.likely.length > 0 && (
        <div className="mb-6 print:break-before">
          <h2 className="text-xl font-bold mb-4 text-blue-700 border-b-2 border-blue-700 pb-2">
            ✔️ Programs You Likely Qualify For ({results.likely.length})
          </h2>
          <div className="space-y-4">
            {results.likely.map((program) => (
              <ProgramCard key={program.programId} result={program} />
            ))}
          </div>
        </div>
      )}

      {/* Maybe Programs */}
      {results.maybe.length > 0 && (
        <div className="mb-6 print:break-before">
          <h2 className="text-xl font-bold mb-4 text-yellow-700 border-b-2 border-yellow-700 pb-2">
            ❓ Programs You May Qualify For ({results.maybe.length})
          </h2>
          <div className="space-y-4">
            {results.maybe.map((program) => (
              <ProgramCard key={program.programId} result={program} />
            ))}
          </div>
        </div>
      )}

      {/* Print Footer */}
      <div className="print-footer hidden print:block mt-8 pt-4 border-t border-gray-300">
        <p className="text-xs text-gray-600">
          This eligibility screening is for informational purposes only.
          Final eligibility determinations are made by program administrators.
        </p>
        <p className="text-xs text-gray-600 mt-2">
          Generated by BenefitFinder • All calculations performed locally on your device
        </p>
        <p className="text-xs text-gray-600 mt-1">
          Printed on: {new Date().toLocaleString()}
        </p>
      </div>

      {/* Privacy Notice */}
      <div className="privacy-note hidden print:block mt-4">
        <h4 className="font-semibold text-sm mb-1">Privacy Notice</h4>
        <p className="text-xs">
          All eligibility calculations were performed locally on your device.
          No personal information was sent to external servers.
          This document contains sensitive information - please keep it secure.
        </p>
      </div>
    </div>
  );
};

export default PrintView;

